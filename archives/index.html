---
layout: default
title: Archives
---

<div class="calendar pull--extended">
{% for post in site.posts  %}
    {% capture this_year %}{{ post.date | date: "%Y" }}{% endcapture %}
    {% capture this_month %}{{ post.date | date: "%B" }}{% endcapture %}
    {% capture next_year %}{{ post.previous.date | date: "%Y" }}{% endcapture %}
    {% capture next_month %}{{ post.previous.date | date: "%B" }}{% endcapture %}

    {% if forloop.first %}
    <h1 id="{{ this_year }}-ref" class="u-centre repel--1">{{this_year}}</h1>
    <h2 id="{{ this_year }}-{{ this_month }}-ref" class="u-centre repel--1">{{ this_month }}</h2>
    <ol class="repel--1">
    {% endif %}

    <li>
        <a href="{{ site.baseurl }}{{ post.url }}" title="{{ post.title }}">
            {% if post.images[0].image %}
                <img src="{{ site.roobottom_assets }}/{{ post.categories[0]}}/square/{{ post.images[0].image }}"/>
            {% elsif post.images[0] %}
                <img src="{{ site.roobottom_assets }}/{{ post.categories[0]}}/square/{{ post.images[0] }}"/>
            {% else %}
                <img src="{{ site.baseurl }}/css/images/calendar-default.png"/>
            {% endif %}
            
            <time>{{ post.date | date date: "%a %d" }}</time>
            
            <p class="calendar-title">{{ post.title }}</p>
        </a> 
    </li>

    {% if forloop.last %}
    </ol>
    {% else %}
        {% if this_year != next_year %}
        </ol>
        <hr/>
        <h1 id="{{ next_year }}-ref" class="u-centre repel--1">{{next_year}}</h1>
        <h2 id="{{ next_year }}-{{ next_month }}-ref" class="u-centre repel--1">{{ next_month }}</h2>
        <ol class="repel--1">
        {% else %}    
            {% if this_month != next_month %}
            </ol>
            <h2 id="{{ this_year }}-{{ next_month }}-ref" class="u-centre repel--1">{{ next_month }}</h2>
            <ol class="repel--1">
            {% endif %}
        {% endif %}
    {% endif %}
{% endfor %}
</div>