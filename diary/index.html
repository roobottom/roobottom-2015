---
title: Diary
layout: default
---

<h1 class="u-centre">Diary</h1>

    {% for post in site.categories.diary | limit: 4 %}
    
        {% capture this_year %}{{ post.date | date: '%Y' }}{% endcapture %}
        {% capture next_year %}{{ post.next.date | date: '%Y' }}{% endcapture %}
        
        {% if this_year != next_year or forloop.index == 1 %}
            {% if forloop.index != 1 %}
                </section>
            {% endif %}
                <h2 class="repel--1 u-centre">{{ post.date | date: '%Y' }}</h2>
                <section class="layout--grid">
        {% endif %}
        
        {% capture count %}{{ post.images | size }}{% endcapture %}
        

        <div class="layout--grid-span1">
            <article class="s-prose teaser teaser--diary">
                <header class="teaser-header">From the diary</header>
                {% if post.images %}
                <figure>
                    <a href="{{ site.baseurl }}{{ post.url }}">
                        <img src="{{ site.roobottom_assets }}/{{ post.categories[0] }}/square/{{ post.images[0].image }}" />
                        <div class="u-figure-count">{{ count }} image{% if count != '1' %}s{% endif %} &amp; {{ post.content | number_of_words }} words</div>
                    </a>
                </figure>
                {% endif %}
                {% assign titleWords = post.title | split:&nbsp; %}
                {% capture cleanTitle %}{% for word in titleWords %}{% if forloop.last %}&nbsp;{% else %} {% endif %}{{ word }}{% endfor %}{% endcapture %}
                <h2><a href="{{ site.baseurl }}{{ post.url }}">{{ cleanTitle }}</a></h2>
                <p class="u-meta"><time>{{ post.date | date: "%A, %B %e %Y" }}</time></p>
            </article>
        </div>

        
        {% if forloop.last %}
            </section>
        {% endif %}
        
    {% endfor %}
    

    {% for post in site.categories.diary | offset: 4 %}
        {% capture this_year %}{{ post.date | date: '%Y' }}{% endcapture %}
        {% capture next_year %}{{ post.next.date | date: '%Y' }}{% endcapture %}
        {% capture count %}{{ post.images | size }}{% endcapture %}
        
        {% if this_year != next_year or forloop.index == 1 %}
            {% if forloop.index != 1 %}
                </section>
            {% endif %}
                <h2 class="repel--1 u-centre">{{ post.date | date: '%Y' }}</h2>
                <section class="layout--column">
                    <ul class="quicklinks pull--both u-centre">
        {% endif %}
        
        <li><a href="{{ post.url }}">{{ post.title }}</a> <time>{{ post.date | date: "%a, %b %e" }}</time></li>
        
        {% if forloop.last %}
                    </ul>
            </section>
        {% endif %}
        
    {% endfor %}

<div class="s-prose">
    <p class="u-centre">Older posts can be found in the <a href="{{ site.baseurl }}/archives">archives</a></p>
</div>